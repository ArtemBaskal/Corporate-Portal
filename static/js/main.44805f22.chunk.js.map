{"version":3,"sources":["components/Card.js","actions/index.js","actions/types.js","components/MainPage.js","components/Catalog.js","components/AccessControl.js","components/App.js","history.js","reducers/selectedItemsReducer.js","reducers/index.js","reducers/accessRightsReducer.js","index.js"],"names":["connect","state","cards","item","accessRights","idx","label","handleSelect","handleDelete","canShowBacketwaste","onDragStart","onDragOver","onDragEnd","toString","onClick","className","src","cardImages","length","image","status","slice","isSelected","priority","Object","values","pinnedBy","some","el","keys","filter","join","selectFromCatalog","data","type","payload","togglePin","handleDrag","deleteFromSelected","props","map","card","Array","from","key","Catalog","e","draggedItem","dataTransfer","effectAllowed","setData","target","parentNode","setDragImage","draggedOverItem","items","splice","draggedIdx","this","deleteFromCatalog","isInCatalog","stopPropagation","React","Component","ACCESS_RIGHTS","User","Admin_System","Admin_MRF","Admin_RF","accessRightsChange","name","id","onChange","value","App","createHistory","require","createBrowserHistory","basename","to","path","exact","component","MainPage","INITAL_STATE","order","p","action","previousPriority","combineReducers","selectedItemsReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.44805f22.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport \"../styles/Card.css\";\r\nimport cardImages from \"../api/superheroes.json\";\r\n\r\nconst Card = ({\r\n  idx,\r\n  label,\r\n  cards,\r\n  handleSelect,\r\n  handleDelete,\r\n  accessRights,\r\n  canShowBacketwaste,\r\n  onDragStart,\r\n  onDragOver,\r\n  onDragEnd\r\n}) => (\r\n  <div>\r\n    {label.toString() && (\r\n      <div\r\n        onClick={handleSelect}\r\n        onDragStart={onDragStart}\r\n        onDragOver={onDragOver}\r\n        onDragEnd={onDragEnd}\r\n        className=\"card\"\r\n      >\r\n        <img\r\n          className=\"card\"\r\n          src={`${cardImages[label % (cardImages.length - 1)].image}`}\r\n        ></img>\r\n        {accessRights.status &&\r\n          accessRights.status.slice(0, 5) === \"Admin\" &&\r\n          !canShowBacketwaste && (\r\n            <span onClick={handleDelete} className=\"card__cross\">\r\n              &#10060;\r\n            </span>\r\n          )}\r\n        {cards[idx] && cards[idx].isSelected && (\r\n          <span className=\"card__check\">&#10003;</span>\r\n        )}\r\n\r\n        {accessRights.status &&\r\n          accessRights.status.slice(0, 5) === \"Admin\" &&\r\n          accessRights.priority > 1 &&\r\n          canShowBacketwaste && (\r\n            <span className=\"card__basketwaste\" onClick={handleDelete}>\r\n              &#x2612;\r\n            </span>\r\n          )}\r\n\r\n        {cards[idx] &&\r\n          Object.values(cards[idx].pinnedBy).some(el => el === true) && (\r\n            <span\r\n              className={\r\n                \"card__pin \" +\r\n                Object.keys(cards[idx].pinnedBy)\r\n                  .filter(el => cards[idx].pinnedBy[el] === true)\r\n                  .join(\" \")\r\n              }\r\n            >\r\n              &#x1F4CC;\r\n            </span>\r\n          )}\r\n        <h1 className=\"card__title\">{label}</h1>\r\n        {/* <div style={{ fontSize: \"10px\" }}>\r\n          {JSON.stringify(accessRights.priority)}\r\n        </div> */}\r\n      </div>\r\n    )}\r\n  </div>\r\n);\r\n\r\nconst mapStateToProps = state => ({\r\n  cards: state.item,\r\n  accessRights: state.accessRights\r\n});\r\n\r\nexport default connect(mapStateToProps)(Card);\r\n","import {\r\n  TOGGLE_SELECT,\r\n  DELETE_FROM_SELECTED,\r\n  CHANGE_ACCESS_RIGHTS,\r\n  DELETE_FROM_CATALOG,\r\n  TOGGLE_PIN,\r\n  DRAG\r\n} from \"./types\";\r\n\r\nexport const selectFromCatalog = data => {\r\n  return {\r\n    type: TOGGLE_SELECT,\r\n    payload: data\r\n  };\r\n};\r\n\r\nexport const deleteFromSelected = data => {\r\n  return {\r\n    type: DELETE_FROM_SELECTED,\r\n    payload: data\r\n  };\r\n};\r\n\r\nexport const accessRightsChange = data => {\r\n  return {\r\n    type: CHANGE_ACCESS_RIGHTS,\r\n    payload: data\r\n  };\r\n};\r\n\r\nexport const deleteFromCatalog = data => {\r\n  return {\r\n    type: DELETE_FROM_CATALOG,\r\n    payload: data\r\n  };\r\n};\r\n\r\nexport const togglePin = (data, accessRights) => {\r\n  return {\r\n    type: TOGGLE_PIN,\r\n    payload: { data, accessRights }\r\n  };\r\n};\r\n\r\nexport const handleDrag = data => {\r\n  return {\r\n    type: DRAG,\r\n    payload: data\r\n  };\r\n};\r\n","export const TOGGLE_SELECT = \"TOGGLE_SELECT\";\r\nexport const DELETE_FROM_SELECTED = \"DELETE_FROM_SELECTED\";\r\nexport const CHANGE_ACCESS_RIGHTS = \"CHANGE_ACCESS_RIGHTS\";\r\nexport const DELETE_FROM_CATALOG = \"DELETE_FROM_CATALOG\";\r\nexport const TOGGLE_PIN = \"TOGGLE_PIN\";\r\nexport const DRAG = \"DRAG\";\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Card from \"./Card\";\r\nimport {\r\n  deleteFromSelected,\r\n  togglePin,\r\n  selectFromCatalog,\r\n  handleDrag\r\n} from \"../actions\";\r\nimport \"../styles/Card.css\";\r\n\r\nconst MainPage = props => {\r\n  return (\r\n    <div className=\"card-container\">\r\n      {props.cards.map(\r\n        card =>\r\n          (card.isSelected ||\r\n            Array.from(card.pinnedBy.priority).length > 1) && (\r\n            <Card\r\n              key={card.label}\r\n              label={card.label}\r\n              isSelected={card.isSelected}\r\n              handleDelete={() => {\r\n                return props.deleteFromSelected(card.label);\r\n              }}\r\n            />\r\n          )\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  cards: state.item\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  {\r\n    deleteFromSelected,\r\n    togglePin,\r\n    selectFromCatalog,\r\n    handleDrag\r\n  }\r\n)(MainPage);\r\n","import React from \"react\";\r\nimport Card from \"./Card\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  selectFromCatalog,\r\n  deleteFromCatalog,\r\n  togglePin,\r\n  handleDrag\r\n} from \"../actions\";\r\n\r\nclass Catalog extends React.Component {\r\n  onDragStart = (e, idx) => {\r\n    const { accessRights } = this.props;\r\n    if (accessRights.status && accessRights.status.slice(0, 5) === \"Admin\") {\r\n      this.draggedItem = this.props.cards[idx];\r\n      e.dataTransfer.effectAllowed = \"grabbing\";\r\n      e.dataTransfer.setData(\"text/html\", e.target.parentNode);\r\n      e.dataTransfer.setDragImage(e.target.parentNode, 50, 50);\r\n    }\r\n  };\r\n\r\n  onDragOver = idx => {\r\n    const { accessRights } = this.props;\r\n    if (accessRights.status && accessRights.status.slice(0, 5) === \"Admin\") {\r\n      const draggedOverItem = this.props.cards[idx];\r\n\r\n      if (this.draggedItem === draggedOverItem) {\r\n        return;\r\n      }\r\n\r\n      let items = this.props.cards.filter(item => item !== this.draggedItem);\r\n\r\n      items.splice(idx, 0, this.draggedItem);\r\n\r\n      this.props.handleDrag(items);\r\n    }\r\n  };\r\n\r\n  onDragEnd = () => {\r\n    const { accessRights } = this.props;\r\n    if (accessRights.status && accessRights.status.slice(0, 5) === \"Admin\") {\r\n      this.draggedIdx = null;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      accessRights,\r\n      cards,\r\n      selectFromCatalog,\r\n      deleteFromCatalog,\r\n      togglePin\r\n    } = this.props;\r\n    return (\r\n      <div className=\"card-container\">\r\n        {cards.map(\r\n          (card, idx) =>\r\n            card.isInCatalog && (\r\n              <Card\r\n                onDragStart={e => this.onDragStart(e, idx)}\r\n                onDragOver={() => this.onDragOver(idx)}\r\n                onDragEnd={this.onDragEnd}\r\n                idx={idx}\r\n                label={card.label}\r\n                key={card.label}\r\n                canShowBacketwaste\r\n                handleSelect={e => {\r\n                  e.stopPropagation();\r\n                  if (\r\n                    accessRights.status &&\r\n                    accessRights.status.slice(0, 5) === \"Admin\"\r\n                  )\r\n                    return togglePin(idx, accessRights);\r\n                  selectFromCatalog(idx);\r\n                }}\r\n                handleDelete={e => {\r\n                  e.stopPropagation();\r\n                  return deleteFromCatalog(idx);\r\n                }}\r\n              />\r\n            )\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  accessRights: state.accessRights,\r\n  cards: state.item\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  {\r\n    selectFromCatalog,\r\n    deleteFromCatalog,\r\n    togglePin,\r\n    handleDrag\r\n  }\r\n)(Catalog);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { accessRightsChange } from \"../actions\";\r\nimport \"../styles/Card.css\";\r\n\r\nconst ACCESS_RIGHTS = {\r\n  User: { status: \"User\", priority: 0 },\r\n  Admin_System: { status: \"Admin_System\", priority: 1 },\r\n  Admin_MRF: { status: \"Admin_MRF\", priority: 2 },\r\n  Admin_RF: { status: \"Admin_RF\", priority: 3 }\r\n};\r\n\r\nconst AccessControl = ({ accessRightsChange }) => (\r\n  <div className=\"access-control__select\">\r\n    <select\r\n      name=\"access\"\r\n      id=\"access\"\r\n      onChange={e => accessRightsChange(ACCESS_RIGHTS[e.target.value])}\r\n    >\r\n      <option value=\"User\">User</option>\r\n      <option value=\"Admin_System\">Admin_System</option>\r\n      <option value=\"Admin_MRF\">Admin_MRF</option>\r\n      <option value=\"Admin_RF\">Admin_RF</option>\r\n    </select>\r\n  </div>\r\n);\r\n\r\nexport default connect(\r\n  null,\r\n  { accessRightsChange }\r\n)(AccessControl);\r\n","import React from \"react\";\r\nimport { HashRouter, Route, Switch, Link } from \"react-router-dom\";\r\nimport MainPage from \"./MainPage\";\r\nimport Catalog from \"./Catalog\";\r\nimport AccessControl from \"./AccessControl\";\r\nimport history from \"../history\";\r\n\r\nconst App = () => (\r\n  <HashRouter basename=\"/\">\r\n    <nav className=\"navigation__nav\">\r\n      <Link to=\"/\">На главную</Link>\r\n      <Link to=\"/catalog\">Каталог приложений</Link>\r\n      <AccessControl />\r\n    </nav>\r\n    <Switch>\r\n      <Route path=\"/\" exact component={MainPage} />\r\n      <Route path=\"/catalog\" exact component={Catalog} />\r\n    </Switch>\r\n  </HashRouter>\r\n);\r\n\r\nexport default App;\r\n","const createHistory = require(\"history\").createBrowserHistory;\r\n\r\nexport default createHistory();\r\n","import {\r\n  TOGGLE_SELECT,\r\n  DELETE_FROM_SELECTED,\r\n  TOGGLE_PIN,\r\n  DELETE_FROM_CATALOG,\r\n  DRAG\r\n} from \"../actions/types\";\r\nimport p from \"immer\";\r\n\r\nconst INITAL_STATE = [\r\n  {\r\n    order: 0,\r\n    label: 0,\r\n    isSelected: true,\r\n    pinnedBy: { Admin_RF: true, priority: 3 },\r\n    isInCatalog: true\r\n  },\r\n  {\r\n    order: 1,\r\n    label: 1,\r\n    isSelected: true,\r\n    pinnedBy: { Admin_MRF: true, priority: 2 },\r\n    isInCatalog: true\r\n  },\r\n  {\r\n    order: 2,\r\n    label: 2,\r\n    isSelected: true,\r\n    pinnedBy: { Admin_System: true, priority: 1 },\r\n    isInCatalog: true\r\n  },\r\n  {\r\n    order: 3,\r\n    label: 3,\r\n    isSelected: true,\r\n    pinnedBy: { priority: 0 },\r\n    isInCatalog: true\r\n  },\r\n  {\r\n    order: 4,\r\n    label: 4,\r\n    isSelected: true,\r\n    pinnedBy: { priority: 0 },\r\n    isInCatalog: true\r\n  },\r\n  {\r\n    order: 5,\r\n    label: 5,\r\n    isSelected: true,\r\n    pinnedBy: { priority: 0 },\r\n    isInCatalog: true\r\n  },\r\n  {\r\n    order: 6,\r\n    label: 6,\r\n    isSelected: false,\r\n    pinnedBy: { priority: 0 },\r\n    isInCatalog: true\r\n  },\r\n  {\r\n    order: 7,\r\n    label: 7,\r\n    isSelected: false,\r\n    pinnedBy: { priority: 0 },\r\n    isInCatalog: true\r\n  },\r\n  {\r\n    order: 8,\r\n    label: 8,\r\n    isSelected: false,\r\n    pinnedBy: { priority: 0 },\r\n    isInCatalog: true\r\n  },\r\n  {\r\n    order: 9,\r\n    label: 9,\r\n    isSelected: false,\r\n    pinnedBy: { priority: 0 },\r\n    isInCatalog: true\r\n  },\r\n  {\r\n    order: 10,\r\n    label: 10,\r\n    isSelected: false,\r\n    pinnedBy: { priority: 0 },\r\n    isInCatalog: true\r\n  },\r\n  {\r\n    order: 11,\r\n    label: 11,\r\n    isSelected: false,\r\n    pinnedBy: { priority: 0 },\r\n    isInCatalog: true\r\n  },\r\n  {\r\n    order: 12,\r\n    label: 12,\r\n    isSelected: false,\r\n    pinnedBy: { priority: 0 },\r\n    isInCatalog: true\r\n  },\r\n  {\r\n    order: 13,\r\n    label: 13,\r\n    isSelected: false,\r\n    pinnedBy: { priority: 0 },\r\n    isInCatalog: true\r\n  },\r\n  {\r\n    order: 14,\r\n    label: 14,\r\n    isSelected: false,\r\n    pinnedBy: { priority: 0 },\r\n    isInCatalog: true\r\n  },\r\n  {\r\n    order: 15,\r\n    label: 15,\r\n    isSelected: false,\r\n    pinnedBy: { priority: 0 },\r\n    isInCatalog: true\r\n  },\r\n  {\r\n    order: 16,\r\n    label: 16,\r\n    isSelected: false,\r\n    pinnedBy: { priority: 0 },\r\n    isInCatalog: true\r\n  },\r\n  {\r\n    order: 17,\r\n    label: 17,\r\n    isSelected: false,\r\n    pinnedBy: { priority: 0 },\r\n    isInCatalog: true\r\n  },\r\n  {\r\n    order: 18,\r\n    label: 18,\r\n    isSelected: false,\r\n    pinnedBy: { priority: 0 },\r\n    isInCatalog: true\r\n  }\r\n];\r\n\r\nexport default p((state = INITAL_STATE, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case DRAG: {\r\n      return action.payload;\r\n    }\r\n\r\n    case DELETE_FROM_SELECTED: {\r\n      state[action.payload].isSelected = false;\r\n      state[action.payload].pinnedBy = { priority: 0 };\r\n      return state;\r\n    }\r\n\r\n    case DELETE_FROM_CATALOG:\r\n      state[action.payload].isSelected = false;\r\n      state[action.payload].isInCatalog = false;\r\n      state[action.payload].pinnedBy = { priority: 0 };\r\n\r\n      return state;\r\n\r\n    case TOGGLE_SELECT:\r\n      state[action.payload].isSelected = !state[action.payload].isSelected;\r\n\r\n      return state;\r\n\r\n    case TOGGLE_PIN:\r\n      const {\r\n        data,\r\n        accessRights: { status, priority }\r\n      } = payload;\r\n\r\n      let previousPriority = state[data].pinnedBy.priority;\r\n\r\n      state[data].pinnedBy[status] = !state[data].pinnedBy[status];\r\n      state[data].pinnedBy.priority =\r\n        priority > previousPriority ? priority : previousPriority;\r\n\r\n      return state;\r\n    default:\r\n      return state;\r\n  }\r\n});\r\n","import { combineReducers } from \"redux\";\r\nimport selectedItemsReducer from \"./selectedItemsReducer\";\r\nimport accessRightsReducer from \"./accessRightsReducer\";\r\n\r\nexport default combineReducers({\r\n  item: selectedItemsReducer,\r\n  accessRights: accessRightsReducer\r\n});\r\n","import { CHANGE_ACCESS_RIGHTS } from \"../actions/types\";\r\n\r\nconst INITAL_STATE = \"User\";\r\n\r\nexport default (state = INITAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case CHANGE_ACCESS_RIGHTS:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore, compose } from \"redux\";\r\nimport App from \"./components/App\";\r\n\r\nimport reducers from \"./reducers\";\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers());\r\n\r\n// store.subscribe(() => console.log(\"STORE: \", store.getState()));\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}