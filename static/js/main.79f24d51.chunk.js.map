{"version":3,"sources":["components/Card.js","actions/index.js","actions/types.js","components/MainPage.js","components/Catalog.js","components/AccessControl.js","history.js","components/App.js","reducers/selectedItemsReducer.js","reducers/index.js","reducers/accessRightsReducer.js","index.js"],"names":["connect","state","cards","item","accessRights","label","handleSelect","handleDelete","canShowBacketwaste","onClick","className","style","backgroundImage","cardImages","length","image","backgroundBlendMode","status","slice","role","aria-label","isSelected","pinnedBy","Object","keys","join","handleSelectFromCatalog","data","type","payload","handlePinInSelected","handleDeleteFromSelected","values","map","card","key","e","stopPropagation","catalog","handleDeleteFromCatalog","isInCatalog","ACCESS_RIGHTS","User","priority","Admin_RC","Admin_MRF","Admin_RT","handleAccessRightsChange","name","id","onChange","console","dir","target","log","value","createHistory","require","createBrowserHistory","App","history","to","path","exact","component","MainPage","Catalog","INITAL_STATE","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","combineReducers","action","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.79f24d51.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport \"../styles/Card.css\";\r\nimport cardImages from \"../api/superheroes.json\";\r\n\r\nconst Card = ({\r\n  label,\r\n  cards,\r\n  handleSelect,\r\n  handleDelete,\r\n  accessRights,\r\n  canShowBacketwaste\r\n}) => (\r\n  <div>\r\n    {label && (\r\n      <div\r\n        onClick={handleSelect}\r\n        className=\"card\"\r\n        style={{\r\n          backgroundImage:\r\n            `url(${cardImages[label % (cardImages.length - 1)].image})` || \"\",\r\n          backgroundBlendMode: \"hard-light\"\r\n        }}\r\n      >\r\n        {/* label */}\r\n        {accessRights.status &&\r\n          accessRights.status.slice(0, 5) === \"Admin\" &&\r\n          !canShowBacketwaste && (\r\n            <span\r\n              onClick={handleDelete}\r\n              className=\"card__cross\"\r\n              role=\"img\"\r\n              aria-label={\"X\"}\r\n            >\r\n              &#10060;\r\n            </span>\r\n          )}\r\n        {cards[label] && cards[label].isSelected && (\r\n          <span className=\"card__check\" role=\"img\">\r\n            &#10003;\r\n          </span>\r\n        )}\r\n        {accessRights.status &&\r\n          accessRights.status.slice(0, 5) === \"Admin\" &&\r\n          canShowBacketwaste && (\r\n            <span\r\n              className=\"card__basketwaste\"\r\n              role=\"img\"\r\n              onClick={handleDelete}\r\n            >\r\n              &#x2612;\r\n            </span>\r\n          )}\r\n        {cards[label] && cards[label].pinnedBy && (\r\n          /* (cards[label].pinnedBy === \"Admin_RC\" && */ <span\r\n            className={\r\n              \"card__pin \" + Object.keys(cards[label].pinnedBy).join(\" \")\r\n            }\r\n            role=\"img\"\r\n          >\r\n            &#x1F4CC;\r\n          </span>\r\n        )}\r\n        {/* <div className=\"card__info\">{`Selected:${isSelected}`}</div>\r\n        <div className=\"card__info\">{`Pinned:${pinnedBy}`}</div> */}\r\n        {/* <div>{JSON.stringify(cards[label])}</div> */}\r\n        <h1 className=\"card__title\">\r\n          {label /* + cardImages[label % (cardImages.length - 1)].name */}\r\n        </h1>\r\n      </div>\r\n    )}\r\n  </div>\r\n);\r\n\r\nconst mapStateToProps = state => ({\r\n  cards: state.item,\r\n  accessRights: state.accessRights\r\n});\r\n\r\nexport default connect(mapStateToProps)(Card);\r\n","import {\r\n  SELECT_FROM_CATALOG,\r\n  DELETE_FROM_SELECTED,\r\n  CHANGE_ACCESS_RIGHTS,\r\n  DELETE_FROM_CATALOG,\r\n  PIN_IN_SELECTED\r\n} from \"./types\";\r\n\r\nexport const handleSelectFromCatalog = data => {\r\n  return {\r\n    type: SELECT_FROM_CATALOG,\r\n    payload: data\r\n  };\r\n};\r\n\r\nexport const handleDeleteFromSelected = data => {\r\n  return {\r\n    type: DELETE_FROM_SELECTED,\r\n    payload: data\r\n  };\r\n};\r\n\r\nexport const handleAccessRightsChange = data => {\r\n  return {\r\n    type: CHANGE_ACCESS_RIGHTS,\r\n    payload: data\r\n  };\r\n};\r\n\r\nexport const handleDeleteFromCatalog = data => {\r\n  return {\r\n    type: DELETE_FROM_CATALOG,\r\n    payload: data\r\n  };\r\n};\r\n\r\nexport const handlePinInSelected = (data, accessRights) => {\r\n  return {\r\n    type: PIN_IN_SELECTED,\r\n    payload: { data, accessRights }\r\n  };\r\n};\r\n","export const SELECT_FROM_CATALOG = \"SELECT_FROM_CATALOG\";\r\nexport const DELETE_FROM_SELECTED = \"DELETE_FROM_SELECTED\";\r\nexport const CHANGE_ACCESS_RIGHTS = \"CHANGE_ACCESS_RIGHTS\";\r\nexport const DELETE_FROM_CATALOG = \"DELETE_FROM_CATALOG\";\r\nexport const PIN_IN_SELECTED = \"PIN_IN_SELECTED\";\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Card from \"./Card\";\r\nimport { handleDeleteFromSelected } from \"../actions\";\r\nimport { handlePinInSelected } from \"../actions\";\r\nimport { handleSelectFromCatalog } from \"../actions\";\r\nimport \"../styles/Card.css\";\r\n\r\nconst MainPage = ({\r\n  cards,\r\n  handleDeleteFromSelected,\r\n  handlePinInSelected,\r\n  handleSelectFromCatalog\r\n}) => (\r\n  <div className=\"card-container\">\r\n    {Object.values(cards).map(\r\n      card =>\r\n        (card.isSelected ||\r\n          (card.pinnedBy && Object.values(card.pinnedBy).length)) && (\r\n          <Card\r\n            label={card.label}\r\n            key={card.label}\r\n            isSelected={card.isSelected}\r\n            pinnedBy={card.pinnedBy}\r\n            handleDelete={e => {\r\n              e.stopPropagation();\r\n              // const reallyDelete = window.confirm(\r\n              //   `Вы действительно хотите удалить ${card.label} из закреплённых приложений?`\r\n              // );\r\n\r\n              // if (accessRights !== \"Admin_RC\" && card.pinnedBy && reallyDelete) {\r\n              //   alert(\r\n              //     `Недостаточно прав для удаления закреплённого приложения \"${card.label}\"`\r\n              //   );\r\n              //   //TODO: если нельзя удалить, то сразу писать об этом\r\n              // } else if (\r\n              //   (!card.pinnedBy && reallyDelete) ||\r\n              //   (card.pinnedBy && accessRights == \"Admin_RC\")\r\n              // )\r\n              return handleDeleteFromSelected(card.label);\r\n            }}\r\n            handleSelect={() => {\r\n              // handleSelectFromCatalog(card.label);\r\n              // handlePinInSelected(card.label);\r\n              // const reallyMakePinned =\r\n              //   accessRights === \"Admin_RC\"\r\n              //     ? window.confirm(\r\n              //         `Хотите ли вы сделать приложение ${card.label} обязательным для пользователей?`\r\n              //       )\r\n              //     : false;\r\n              // if (reallyMakePinned) {\r\n              // }\r\n            }}\r\n          />\r\n        )\r\n    )}\r\n  </div>\r\n);\r\n\r\nconst mapStateToProps = state => ({\r\n  // accessRights: state.accessRights,\r\n  cards: state.item\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { handleDeleteFromSelected, handlePinInSelected, handleSelectFromCatalog }\r\n)(MainPage);\r\n","import React from \"react\";\r\nimport Card from \"./Card\";\r\nimport { connect } from \"react-redux\";\r\nimport { handleSelectFromCatalog } from \"../actions\";\r\nimport { handleDeleteFromCatalog } from \"../actions\";\r\nimport { handlePinInSelected } from \"../actions\";\r\n\r\nconst Catalog = ({\r\n  catalog,\r\n  accessRights,\r\n  cards,\r\n  handleSelectFromCatalog,\r\n  handleDeleteFromCatalog,\r\n  handlePinInSelected\r\n}) => (\r\n  <div className=\"card-container\">\r\n    {Object.values(cards).map(\r\n      card =>\r\n        // console.log(cards[card.label] && cards[card.label].pinnedBy);\r\n\r\n        // let isSelected = false;\r\n\r\n        card.isInCatalog && (\r\n          <Card\r\n            label={card.label}\r\n            key={card.label}\r\n            canShowBacketwaste\r\n            handleSelect={e => {\r\n              e.stopPropagation();\r\n              // const reallySelect = window.confirm(\r\n              //   `Вы действительно хотите добавить ${card.label} в закреплённые приложений?`\r\n              // );\r\n\r\n              // let reallyMakePinned;\r\n              // if (accessRights === \"Admin__RC\" && cards[card.label]) {\r\n              //   if (cards[card.label].pinnedBy) {\r\n              //     reallyMakePinned = window.confirm(\r\n              //       `Хотите ли вы сделать приложение ${card.label} обязательным для пользователей?`\r\n              //     );\r\n              //   }\r\n              // }\r\n\r\n              // if (reallyMakePinned) {\r\n              if (\r\n                accessRights.status &&\r\n                accessRights.status.slice(0, 5) === \"Admin\"\r\n              )\r\n                return handlePinInSelected(card.label, accessRights);\r\n\r\n              handleSelectFromCatalog(card.label);\r\n              // }\r\n\r\n              // if (reallySelect) {\r\n              //TODO: Нельзя выбирать уже выбранные приложения\r\n              // }\r\n            }}\r\n            handleDelete={e => {\r\n              e.stopPropagation();\r\n              // const reallyDelete = window.confirm(\r\n              //   `Вы действительно хотите удалить ${card.label} из каталога?`\r\n              // );\r\n\r\n              // if (accessRights.status !== \"Admin__RC\") {\r\n              //   alert(\r\n              //     `Недостаточно прав доступа ${accessRights.status} для удаления приложения из каталога!`\r\n              //   );\r\n              // }\r\n              // if (reallyDelete && accessRights.status === \"Admin__RC\") {\r\n              return handleDeleteFromCatalog(card.label);\r\n              // }\r\n            }}\r\n          />\r\n        )\r\n    )}\r\n  </div>\r\n);\r\n\r\nconst mapStateToProps = state => ({\r\n  catalog: state.catalog,\r\n  accessRights: state.accessRights,\r\n  cards: state.item\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { handleSelectFromCatalog, handleDeleteFromCatalog, handlePinInSelected }\r\n)(Catalog);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport \"../styles/Card.css\";\r\nimport { handleAccessRightsChange } from \"../actions\";\r\nimport \"../styles/Card.css\";\r\n\r\nconst ACCESS_RIGHTS = {\r\n  User: { status: \"User\", priority: 0 },\r\n  Admin_RC: { status: \"Admin_RC\", priority: 1 },\r\n  Admin_MRF: { status: \"Admin_MRF\", priority: 2 },\r\n  Admin_RT: { status: \"Admin_RT\", priority: 3 }\r\n};\r\n\r\nconst AccessControl = ({ handleAccessRightsChange }) => (\r\n  <div className=\"access-control__select\">\r\n    <select\r\n      name=\"access\"\r\n      id=\"access\"\r\n      onChange={e => {\r\n        console.dir(e.target);\r\n\r\n        console.log(ACCESS_RIGHTS[e.target.value]);\r\n        return handleAccessRightsChange(ACCESS_RIGHTS[e.target.value]);\r\n      }}\r\n    >\r\n      <option value=\"User\">User</option>\r\n      <option value=\"Admin_RC\">Admin_RC</option>\r\n      <option value=\"Admin_MRF\">Admin_MRF</option>\r\n      <option value=\"Admin_RT\">Admin_RT</option>\r\n    </select>\r\n    {/* <span>{`Ваши текущие права доступа: ${accessRights}`}</span> */}\r\n  </div>\r\n);\r\n\r\n// const mapStateToProps = state => ({\r\n//   accessRights: state.accessRights\r\n// });\r\n\r\nexport default connect(\r\n  null,\r\n  { handleAccessRightsChange }\r\n)(AccessControl);\r\n","const createHistory = require(\"history\").createBrowserHistory;\r\n\r\nexport default createHistory();\r\n","import React from \"react\";\r\nimport { Router, Route, Switch, Link } from \"react-router-dom\";\r\nimport MainPage from \"./MainPage\";\r\nimport Catalog from \"./Catalog\";\r\nimport AccessControl from \"./AccessControl\";\r\n\r\nimport history from \"../history\";\r\n\r\nconst App = () => (\r\n  <Router history={history}>\r\n    <nav className=\"navigation__nav\">\r\n      <Link to=\"/\">На главную</Link>\r\n      <Link to=\"/catalog\">Каталог приложений</Link>\r\n      <AccessControl />\r\n    </nav>\r\n    <Switch>\r\n      <Route path=\"/\" exact component={MainPage} />\r\n      <Route path=\"/catalog\" exact component={Catalog} />\r\n    </Switch>\r\n  </Router>\r\n);\r\n\r\nexport default App;\r\n","import {\r\n  SELECT_FROM_CATALOG,\r\n  DELETE_FROM_SELECTED,\r\n  PIN_IN_SELECTED,\r\n  DELETE_FROM_CATALOG\r\n} from \"../actions/types\";\r\n\r\nconst INITAL_STATE = {\r\n  1: {\r\n    label: 1,\r\n    isSelected: true,\r\n    pinnedBy: { Admin_RC: true, priority: 1 },\r\n    isInCatalog: true\r\n  },\r\n  2: {\r\n    label: 2,\r\n    isSelected: false,\r\n    pinnedBy: { Admin_MRF: true, priority: 2 },\r\n    isInCatalog: true\r\n  },\r\n  3: {\r\n    label: 3,\r\n    isSelected: true,\r\n    pinnedBy: { Admin_RT: true, priority: 3 },\r\n    isInCatalog: true\r\n  },\r\n  4: { label: 4, isSelected: true, isInCatalog: true },\r\n  5: { label: 5, isSelected: true, isInCatalog: true },\r\n  6: { label: 6, isSelected: true, isInCatalog: true },\r\n  7: { label: 7, isSelected: false, isInCatalog: true },\r\n  8: { label: 8, isSelected: false, isInCatalog: true },\r\n  9: { label: 9, isSelected: false, isInCatalog: true },\r\n  10: {\r\n    label: 10,\r\n    isSelected: false,\r\n    isInCatalog: true\r\n  },\r\n  11: {\r\n    label: 11,\r\n    isSelected: false,\r\n    isInCatalog: true\r\n  },\r\n  12: {\r\n    label: 12,\r\n    isSelected: false,\r\n    isInCatalog: true\r\n  },\r\n  13: {\r\n    label: 13,\r\n    isSelected: false,\r\n    isInCatalog: true\r\n  },\r\n  14: {\r\n    label: 14,\r\n    isSelected: false,\r\n    isInCatalog: true\r\n  },\r\n  15: {\r\n    label: 15,\r\n    isSelected: false,\r\n    isInCatalog: true\r\n  },\r\n  16: {\r\n    label: 16,\r\n    isSelected: false,\r\n    isInCatalog: true\r\n  },\r\n  17: {\r\n    label: 17,\r\n    isSelected: false,\r\n    isInCatalog: true\r\n  },\r\n  18: {\r\n    label: 18,\r\n    isSelected: false,\r\n    isInCatalog: true\r\n  },\r\n  19: { label: 19, isSelected: false, isInCatalog: true }\r\n};\r\n\r\nexport default (state = INITAL_STATE, action) => {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case DELETE_FROM_SELECTED:\r\n      return {\r\n        ...state,\r\n        [payload]: {\r\n          ...state[payload],\r\n          isSelected: false,\r\n          pinnedBy: false\r\n        }\r\n      };\r\n    case DELETE_FROM_CATALOG:\r\n      return {\r\n        ...state,\r\n        [payload]: {\r\n          ...state[payload],\r\n          isSelected: false,\r\n          isInCatalog: false,\r\n          pinnedBy: false\r\n        }\r\n      };\r\n\r\n    case SELECT_FROM_CATALOG:\r\n      return {\r\n        ...state,\r\n        [payload]: {\r\n          ...state[payload],\r\n          label: payload,\r\n          isSelected: !state[payload].isSelected\r\n        }\r\n      };\r\n    case PIN_IN_SELECTED:\r\n      const {\r\n        data,\r\n        data: { pinnedBy },\r\n        accessRights: { status, priority }\r\n      } = payload;\r\n\r\n      return {\r\n        ...state,\r\n        [data]: {\r\n          ...state[data],\r\n          label: data,\r\n\r\n          pinnedBy: {\r\n            ...pinnedBy,\r\n            [status]: true,\r\n            priority\r\n          }\r\n        }\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\nimport selectedItemsReducer from \"./selectedItemsReducer\";\r\nimport accessRightsReducer from \"./accessRightsReducer\";\r\n\r\nexport default combineReducers({\r\n  item: selectedItemsReducer,\r\n  accessRights: accessRightsReducer\r\n});\r\n","import { CHANGE_ACCESS_RIGHTS } from \"../actions/types\";\r\n\r\nconst INITAL_STATE = \"User\";\r\n\r\nexport default (state = INITAL_STATE, action) => {\r\n  // console.log(action);\r\n  switch (action.type) {\r\n    case CHANGE_ACCESS_RIGHTS:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore, compose } from \"redux\";\r\nimport App from \"./components/App\";\r\n\r\nimport reducers from \"./reducers\";\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers());\r\n\r\n// store.subscribe(() => console.log(\"STORE: \", store.getState()));\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}