(window.webpackJsonprostelekom=window.webpackJsonprostelekom||[]).push([[0],{16:function(e,a,n){},18:function(e){e.exports=JSON.parse('[{"name":"\u0410\u043a\u0432\u0430\u043c\u0435\u043d","image":"http://www.ramrus.ru/pic/dc/aquaman.jpg"},{"name":"\u0411\u044d\u0442\u043c\u0435\u043d","image":"http://www.ramrus.ru/pic/dc/batman.jpg"},{"name":"\u041a\u0438\u0431\u043e\u0440\u0433","image":"http://www.ramrus.ru/pic/dc/cyborg.jpg"},{"name":"\u0424\u043b\u044d\u0448","image":"http://www.ramrus.ru/pic/dc/flash.jpg"},{"name":"\u0417\u0435\u043b\u0451\u043d\u044b\u0439 \u0424\u043e\u043d\u0430\u0440\u044c","image":"http://www.ramrus.ru/pic/dc/greenlantern.jpg"},{"name":"\u0421\u0443\u043f\u0435\u0440\u0433\u0451\u0440\u043b","image":"http://www.ramrus.ru/pic/dc/supergirl.jpg"},{"name":"\u0421\u0443\u043f\u0435\u0440\u043c\u0435\u043d","image":"http://www.ramrus.ru/pic/dc/superman.jpg"},{"name":"\u0427\u0443\u0434\u043e-\u0436\u0435\u043d\u0449\u0438\u043d\u0430","image":"http://www.ramrus.ru/pic/dc/wonderwoman.jpg"},{"name":"\u0427\u0451\u0440\u043d\u0430\u044f \u041f\u0430\u043d\u0442\u0435\u0440\u0430","image":"http://www.ramrus.ru/pic/marvel/blackpanther.jpg"},{"name":"\u041a\u0430\u043f\u0438\u0442\u0430\u043d \u0410\u043c\u0435\u0440\u0438\u043a\u0430","image":"http://www.ramrus.ru/pic/marvel/captainamerica.jpg"},{"name":"\u0421\u043e\u0440\u0432\u0438\u0433\u043e\u043b\u043e\u0432\u0430","image":"http://www.ramrus.ru/pic/marvel/daredevil.jpg"},{"name":"\u0414\u043e\u043a\u0442\u043e\u0440 \u0421\u0442\u0440\u044d\u043d\u0434\u0436","image":"http://www.ramrus.ru/pic/marvel/doctorstrange.jpg"},{"name":"\u0425\u0430\u043b\u043a","image":"http://www.ramrus.ru/pic/marvel/hulk.jpg"},{"name":"\u0416\u0435\u043b\u0435\u0437\u043d\u0439 \u0427\u0435\u043b\u043e\u0432\u0435\u043a","image":"http://www.ramrus.ru/pic/marvel/ironman.jpg"},{"name":"\u0427\u0435\u043b\u043e\u0432\u0435\u043a-\u043f\u0430\u0443\u043a","image":"http://www.ramrus.ru/pic/marvel/spiderman.jpg"},{"name":"\u0422\u043e\u0440","image":"http://www.ramrus.ru/pic/marvel/thor.jpg"}]')},31:function(e,a,n){e.exports=n(42)},42:function(e,a,n){"use strict";n.r(a);var t,r,i,l=n(0),s=n.n(l),d=n(12),c=n.n(d),m=n(7),o=n(10),u=n(14),g=n(9),p=(n(16),n(18)),_=Object(m.b)((function(e){return{apps:e.apps,accessRights:e.accessRights}}))((function(e){var a=e.idx,n=e.label,t=e.apps,r=e.handleSelect,i=e.handleDelete,l=e.accessRights,d=e.canShowBacketwaste,c=e.onDragStart,m=e.onDragOver,o=e.onDragEnd;return s.a.createElement("div",null,n.toString()&&s.a.createElement("div",{onClick:r,onDragStart:c,onDragOver:m,onDragEnd:o,className:"card"},s.a.createElement("img",{className:"card__img",src:"".concat(p[Number(n)%(p.length-1)].image)}),l.status&&"Admin"===l.status.slice(0,5)&&!d&&s.a.createElement("span",{onClick:i,className:"card__cross"},"\u274c"),t[a]&&t[a].isSelected&&s.a.createElement("span",{className:"card__check"},"\u2713"),l.status&&"Admin"===l.status.slice(0,5)&&l.level>0&&d&&s.a.createElement("span",{className:"card__basketwaste",onClick:i},"\u2612"),t[a]&&Object.values(t[a].pinnedBy).some((function(e){return!0===e}))&&s.a.createElement("span",{className:"card__pin "+Object.keys(t[a].pinnedBy).filter((function(e){return!0===t[a].pinnedBy[e]})).join(" ")},"\ud83d\udccc"),s.a.createElement("h1",{className:"card__title"},n)))}));!function(e){e.TOGGLE_SELECT="TOGGLE_SELECT",e.DELETE_FROM_SELECTED="DELETE_FROM_SELECTED",e.CHANGE_ACCESS_RIGHTS="CHANGE_ACCESS_RIGHTS",e.DELETE_FROM_CATALOG="DELETE_FROM_CATALOG",e.TOGGLE_PIN="TOGGLE_PIN",e.DRAG="DRAG"}(t||(t={})),function(e){e.Admin_System="Admin_System",e.Admin_MRF="Admin_MRF",e.Admin_RF="Admin_RF"}(r||(r={})),function(e){e.User="User"}(i||(i={}));var A=function(e){var a=e.idx,n=e.accessRights;return{type:t.TOGGLE_PIN,payload:{idx:a,accessRights:n}}},E=function(e){return{type:t.DRAG,payload:e}};function S(e,a){return Math.floor(Math.abs(e)/Math.pow(10,a))%10}function v(e,a,n){for(var t=function(e){for(var a,n=0,t=0;t<e.length;t++)n=Math.max(n,0===(a=e[t])?1:Math.floor(Math.log10(Math.abs(a)))+1);return n}(e.map((function(e){return e[a]||0}))),r=function(t){for(var r=Array.from({length:10},(function(){return[]})),i=0;i<e.length;i++){var l=S(e[i][a]||0,t);r[l].push(e[i])}!function(){e=[];var a=function(a,n){return e=a.concat(n)};"ASC"===n?r.reduce(a):r.reduceRight(a)}()},i=0;i<t;i++)r(i);return e}var R=Object(m.b)((function(e){return{apps:e.apps}}),{deleteFromSelected:function(e){return{type:t.DELETE_FROM_SELECTED,payload:e}},togglePin:A,handleDrag:E})((function(e){var a=e.apps,n=e.deleteFromSelected;return s.a.createElement("div",{className:"card-container"},v(Object.values(a),"order","ASC").map((function(e,a){var t=e.label,r=e.isSelected,i=e.pinnedBy;if(r||Object.values(i).some((function(e){return!0===e})))return s.a.createElement(_,{idx:a,key:t,label:t.toString(),isSelected:Boolean(r),handleDelete:function(){return n(a)}})})))})),y=n(24),h=n(25),b=n(29),w=n(26),f=n(30),F=function(e){function a(e,n,t){var r;return Object(y.a)(this,a),(r=Object(b.a)(this,Object(w.a)(a).call(this,e))).draggedIdx=n,r.draggedOverIdx=t,r.onDragStart=function(e,a){var n=r.props,t=n.accessRights.status;n.apps;t&&"Admin"===t.slice(0,5)&&(r.draggedIdx=a,e.dataTransfer.effectAllowed="grabbing",e.dataTransfer.setDragImage(e.target,50,50))},r.onDragOver=function(e){var a=r.props,n=a.accessRights,t=a.apps,i=a.handleDrag;if(n.status&&"Admin"===n.status.slice(0,5)){if(r.draggedOverIdx=e,r.draggedIdx===r.draggedOverIdx)return;var l=JSON.parse(JSON.stringify(t)),s=[l[r.draggedIdx].order,l[e].order,l[r.draggedIdx],l[e],r.draggedOverIdx,r.draggedIdx];l[e].order=s[0],l[r.draggedIdx].order=s[1],l[e]=s[2],l[r.draggedIdx]=s[3],r.draggedIdx=s[4],r.draggedOverIdx=s[5],i(l)}},r.onDragEnd=function(){var e=r.props.accessRights;e.status&&"Admin"===e.status.slice(0,5)&&(r.draggedIdx=null)},r}return Object(f.a)(a,e),Object(h.a)(a,[{key:"render",value:function(){var e=this,a=this.props,n=a.accessRights,t=a.apps,r=a.selectFromCatalog,i=a.deleteFromCatalog,l=a.togglePin;return s.a.createElement("div",{className:"card-container"},v(Object.values(t),"order","ASC").map((function(a,t){return a.isInCatalog&&s.a.createElement(_,{onDragStart:function(a){return e.onDragStart(a,t)},onDragOver:function(){return e.onDragOver(t)},onDragEnd:e.onDragEnd,idx:t,label:a.label.toString(),key:a.label.toString(),canShowBacketwaste:!0,handleSelect:function(e){return e.stopPropagation(),n&&n.status&&"Admin"===n.status.slice(0,5)?l({idx:t,accessRights:n}):r(t)},handleDelete:function(e){return e.stopPropagation(),i(t)}})})))}}]),a}(s.a.Component),C=Object(m.b)((function(e){return{accessRights:e.accessRights,apps:e.apps}}),{selectFromCatalog:function(e){return{type:t.TOGGLE_SELECT,payload:e}},deleteFromCatalog:function(e){return{type:t.DELETE_FROM_CATALOG,payload:e}},togglePin:A,handleDrag:E})(F),O={User:{status:i.User,level:0},Admin_System:{status:r.Admin_System,level:1},Admin_MRF:{status:r.Admin_MRF,level:2},Admin_RF:{status:r.Admin_RF,level:3}},I=Object(m.b)(null,{accessRightsChange:function(e){return{type:t.CHANGE_ACCESS_RIGHTS,payload:e}}})((function(e){var a=e.accessRightsChange;return s.a.createElement("div",{className:"access-control__select"},s.a.createElement("select",{name:"access",id:"access",onChange:function(e){return a&&a(O[e.target.value])}},Object.values(O).map((function(e){var a=e.status;return s.a.createElement("option",{key:a},a)}))))})),M=function(){return s.a.createElement(u.a,{basename:"/"},s.a.createElement("nav",{className:"navigation__nav"},s.a.createElement(u.b,{to:"/"},"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"),s.a.createElement(u.b,{to:"/catalog"},"\u041a\u0430\u0442\u0430\u043b\u043e\u0433 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439"),s.a.createElement(I,null)),s.a.createElement(g.c,null,s.a.createElement(g.a,{path:"/",exact:!0,component:R}),s.a.createElement(g.a,{path:"/catalog",exact:!0,component:C})))},D=n(28),T={0:{order:0,label:0,isSelected:!0,pinnedBy:{Admin_System:!1,Admin_RF:!0,Admin_MRF:!1,level:3},isInCatalog:!0},1:{order:1,label:1,isSelected:!0,pinnedBy:{Admin_System:!1,Admin_MRF:!0,Admin_RF:!1,level:2},isInCatalog:!0},2:{order:2,label:2,isSelected:!0,pinnedBy:{Admin_System:!0,Admin_MRF:!1,Admin_RF:!1,level:1},isInCatalog:!0},3:{order:3,label:3,isSelected:!0,pinnedBy:{Admin_System:!1,Admin_MRF:!1,Admin_RF:!1,level:0},isInCatalog:!0},4:{order:4,label:4,isSelected:!0,pinnedBy:{Admin_System:!1,Admin_MRF:!1,Admin_RF:!1,level:0},isInCatalog:!0},5:{order:5,label:5,isSelected:!0,pinnedBy:{Admin_System:!1,Admin_MRF:!1,Admin_RF:!1,level:0},isInCatalog:!0},6:{order:6,label:6,isSelected:!1,pinnedBy:{Admin_System:!1,Admin_MRF:!1,Admin_RF:!1,level:0},isInCatalog:!0},7:{order:7,label:7,isSelected:!1,pinnedBy:{Admin_System:!1,Admin_MRF:!1,Admin_RF:!1,level:0},isInCatalog:!0},8:{order:8,label:8,isSelected:!1,pinnedBy:{Admin_System:!1,Admin_MRF:!1,Admin_RF:!1,level:0},isInCatalog:!0},9:{order:9,label:9,isSelected:!1,pinnedBy:{Admin_System:!1,Admin_MRF:!1,Admin_RF:!1,level:0},isInCatalog:!0},10:{order:10,label:10,isSelected:!1,pinnedBy:{Admin_System:!1,Admin_MRF:!1,Admin_RF:!1,level:0},isInCatalog:!0},11:{order:11,label:11,isSelected:!1,pinnedBy:{Admin_System:!1,Admin_MRF:!1,Admin_RF:!1,level:0},isInCatalog:!0},12:{order:12,label:12,isSelected:!1,pinnedBy:{Admin_System:!1,Admin_MRF:!1,Admin_RF:!1,level:0},isInCatalog:!0},13:{order:13,label:13,isSelected:!1,pinnedBy:{Admin_System:!1,Admin_MRF:!1,Admin_RF:!1,level:0},isInCatalog:!0},14:{order:14,label:14,isSelected:!1,pinnedBy:{Admin_System:!1,Admin_MRF:!1,Admin_RF:!1,level:0},isInCatalog:!0},15:{order:15,label:15,isSelected:!1,pinnedBy:{Admin_System:!1,Admin_MRF:!1,Admin_RF:!1,level:0},isInCatalog:!0},16:{order:16,label:16,isSelected:!1,pinnedBy:{Admin_System:!1,Admin_MRF:!1,Admin_RF:!1,level:0},isInCatalog:!0},17:{order:17,label:17,isSelected:!1,pinnedBy:{Admin_System:!1,Admin_MRF:!1,Admin_RF:!1,level:0},isInCatalog:!0},18:{order:18,label:18,isSelected:!1,pinnedBy:{Admin_System:!1,Admin_MRF:!1,Admin_RF:!1,level:0},isInCatalog:!0}},j=Object(D.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,a=arguments.length>1?arguments[1]:void 0,n=a.type,r=a.payload;switch(n){case t.DRAG:return r;case t.DELETE_FROM_SELECTED:return e[Number(r)].isSelected=!1,e[Number(r)].pinnedBy={Admin_System:!1,Admin_MRF:!1,Admin_RF:!1,level:0},e;case t.DELETE_FROM_CATALOG:return e[Number(r)].isSelected=!1,e[Number(r)].isInCatalog=!1,e[Number(r)].pinnedBy={Admin_System:!1,Admin_MRF:!1,Admin_RF:!1,level:0},e;case t.TOGGLE_SELECT:return e[Number(r)].isSelected=!e[Number(r)].isSelected,e;case t.TOGGLE_PIN:var i=r,l=i.idx,s=i.accessRights,d=s.status,c=s.level,m=e[l].pinnedBy.level;return e[l].pinnedBy[d]=!e[l].pinnedBy[d],e[l].pinnedBy.level=c>m?c:m,e;default:return e}})),B={status:i.User,level:0},G=Object(o.b)({apps:j,accessRights:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case t.CHANGE_ACCESS_RIGHTS:return a.payload;default:return e}}}),N=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.c,L=Object(o.d)(G,N());c.a.render(s.a.createElement(m.a,{store:L},s.a.createElement(M,null)),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.bf5c199c.chunk.js.map